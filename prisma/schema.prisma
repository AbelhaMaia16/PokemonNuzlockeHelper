// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Post {
    id        Int      @id @default(autoincrement())
    name      String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([name])
}

model Party {
    id          String  @id @default(cuid())
    pokemon     Pokemon[]

    game        Game    @relation(fields: [gameID], references: [id])
    gameID      String  @unique
}

model Box {
    id          String  @id @default(cuid())
    pokemon     Pokemon[]

    game        Game    @relation(fields: [gameID], references: [id])
    gameID      String  @unique
}

model Game {
    id              String @id @default(cuid())
    name            String
    game_name       String
    party           Party?
    box             Box?
}


model Pokemon {
    id              Int @id @default(autoincrement())
    name            String
    species         String
    nature          String
    sprite          String
    level           Int
    statusEffect    String
    ability         String

    type1           String
    type2           String?

    //main stats
    hp              Int
    attack          Int
    defense         Int
    sp_attack       Int
    sp_defense      Int
    speed           Int

    //ivs
    iv_hp           Int
    iv_attack       Int
    iv_defense      Int
    iv_sp_attack    Int
    iv_sp_defense   Int
    iv_speed        Int    

    //evs
    ev_hp           Int
    ev_attack       Int
    ev_defense      Int
    ev_sp_attack    Int
    ev_sp_defense   Int
    ev_speed        Int

    moves           Move[]

    party           Party @relation(fields: [partyID], references: [id])
    partyID         String 

    box             Box @relation(fields: [boxId], references: [id])
    boxId           String  

    @@index([species]) 
}

model Move {
    id              Int     @id @default(autoincrement())
    pokemonID       Int
    pokemon         Pokemon @relation(fields: [pokemonID], references: [id])
}
